{"version":3,"file":"component---src-pages-stats-js-9c6f4a033581ffccf746.js","mappings":"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","sources":["webpack://sponsorblock/./node_modules/classnames/index.js","webpack://sponsorblock/./src/components/layout.js","webpack://sponsorblock/./src/pages/stats.js"],"sourcesContent":["/*!\n  Copyright (c) 2018 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n  'use strict';\n\n  var hasOwn = {}.hasOwnProperty;\n  function classNames() {\n    var classes = [];\n    for (var i = 0; i < arguments.length; i++) {\n      var arg = arguments[i];\n      if (!arg) continue;\n      var argType = typeof arg;\n      if (argType === 'string' || argType === 'number') {\n        classes.push(arg);\n      } else if (Array.isArray(arg)) {\n        if (arg.length) {\n          var inner = classNames.apply(null, arg);\n          if (inner) {\n            classes.push(inner);\n          }\n        }\n      } else if (argType === 'object') {\n        if (arg.toString === Object.prototype.toString) {\n          for (var key in arg) {\n            if (hasOwn.call(arg, key) && arg[key]) {\n              classes.push(key);\n            }\n          }\n        } else {\n          classes.push(arg.toString());\n        }\n      }\n    }\n    return classes.join(' ');\n  }\n  if (typeof module !== 'undefined' && module.exports) {\n    classNames.default = classNames;\n    module.exports = classNames;\n  } else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n    // register as 'classnames', consistent with npm package name\n    define('classnames', [], function () {\n      return classNames;\n    });\n  } else {\n    window.classNames = classNames;\n  }\n})();","/**\n * Layout of the main website.\n */\n\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Link } from \"gatsby\";\n\nimport \"normalize.css/normalize.css\";\nimport \"./layout.scss\";\nimport \"fork-awesome/css/fork-awesome.min.css\";\n\nconst Layout = ({ children }) => {\n    return (\n        <>\n            <div\n                style={{\n                    backgroundColor: \"#262626\",\n                    display: \"flex\",\n                    justifyContent: \"space-between\",\n                    borderBottom: \"1px #1c1c1c solid\",\n                }}\n            >\n                <ul className=\"nav\">\n                    <li>\n                        <Link\n                            to=\"/\"\n                            className=\"nav-link\"\n                            style={{ padding: \"0.7rem 1.5rem\" }}\n                        >\n                            <img\n                                src=\"/logo.svg\"\n                                alt=\"Home\"\n                                style={{\n                                    height: \"2.1rem\",\n                                    verticalAlign: \"middle\",\n                                }}\n                            />\n                        </Link>\n                    </li>\n\n                    <li>\n                        <Link to=\"/\" className=\"nav-link\">\n                            Home\n                        </Link>\n                    </li>\n\n                    <li>\n                        <Link to=\"/about\" className=\"nav-link\">\n                            About\n                        </Link>\n                    </li>\n\n                    <li>\n                        <Link to=\"/stats\" className=\"nav-link\">\n                            Stats\n                        </Link>\n                    </li>\n\n                    <li>\n                        <a\n                            href=\"https://sponsor.ajay.app/news\"\n                            className=\"nav-link\"\n                        >\n                            Blog\n                        </a>\n                    </li>\n\n                    <li>\n                        <a\n                            href=\"https://wiki.sponsor.ajay.app/w/DeArrow/Guidelines\"\n                            className=\"nav-link\"\n                        >\n                            Guidelines\n                        </a>\n                    </li>\n\n                    <li>\n                        <a\n                            href=\"https://wiki.sponsor.ajay.app/w/API_Docs/DeArrow\"\n                            className=\"nav-link\"\n                        >\n                            API\n                        </a>\n                    </li>\n                </ul>\n\n                <ul className=\"nav\">\n                    <li className=\"author\">\n                        <a\n                            href=\"https://ajay.app/\"\n                            className=\"nav-link text-small profile\"\n                        >\n                            Created by Ajay Ramachandran\n                            <img\n                                src=\"/ajay_profile.jpg\"\n                                alt=\"Ajay's avatar\"\n                            ></img>\n                        </a>\n                    </li>\n\n                    <li>\n                        <a\n                            href=\"https://discord.gg/SponsorBlock\"\n                            className=\"nav-link\"\n                            title=\"Discord Invite\"\n                        >\n                            <i className=\"fa fa-discord\"></i>\n                        </a>\n                    </li>\n\n                    <li>\n                        <a\n                            href=\"https://matrix.to/#/#sponsor:ajay.app?via=ajay.app&via=matrix.org&via=mozilla.org\"\n                            className=\"nav-link\"\n                            title=\"Matrix Invite\"\n                        >\n                            <i className=\"fa fa-matrix-org\"></i>\n                        </a>\n                    </li>\n\n                    <li>\n                        <a\n                            href=\"https://fosstodon.org/@sponsorblock\"\n                            className=\"nav-link\"\n                            rel=\"me\"\n                        >\n                            <i className=\"fa fa-mastodon\"></i>\n                        </a>\n                    </li>\n\n                    <li>\n                        <a\n                            href=\"https://twitter.com/SponsorBlock\"\n                            className=\"nav-link\"\n                        >\n                            <i className=\"fa fa-twitter\"></i>\n                        </a>\n                    </li>\n\n                    <li>\n                        <a\n                            href=\"https://github.com/ajayyy/DeArrow\"\n                            className=\"nav-link\"\n                        >\n                            <i className=\"fa fa-github\"></i>\n                        </a>\n                    </li>\n                </ul>\n            </div>\n            <main>{children}</main>\n        </>\n    );\n};\n\nLayout.propTypes = {\n    children: PropTypes.node.isRequired,\n};\n\nexport default Layout;\n","import React, { useState, useEffect } from \"react\";\nimport classNames from \"classnames\";\n\nimport Layout from \"../components/layout\";\nimport Seo from \"../components/seo\";\n\nconst API_BASE = \"https://sponsor.ajay.app\";\nlet endpoint = \"/api/getTopBrandingUsers?\";\nlet sortType = 0;\n\nconst IndexPage = () => {\n    const [totalStats, setTotalStats] = useState({\n        activeUsers: \"Loading\",\n        titles: \"Loading\",\n        thumbnails: \"Loading\",\n    });\n\n    const [topUsers, setTopUsers] = useState([]);\n    const [isTotalStatsLoading, setIsTotalStatsLoading] = useState(true);\n\n    function setTopUserData(clickedElement) {\n        const url = new URL(`${API_BASE}${endpoint}`);\n        url.searchParams.append(\"sortType\", sortType);\n        return fetch(url)\n            .then((response) => {\n                if (response.ok) return response.json()\n                else return Promise.reject(response)\n            })\n            .then((resultData) => {\n                if (clickedElement) {\n                    [...document.getElementsByClassName(\"sorted\")].forEach(\n                        (el) => el.classList.remove(\"sorted\")\n                    );\n                    clickedElement.classList.add(\"sorted\");\n                    clickedElement.classList.remove(\"sort-loading\");\n                }\n\n                setTopUsers(resultData);\n            })\n            .catch((r) => console.error(r));\n    }\n\n    useEffect(() => {\n        fetch(API_BASE + \"/api/brandingStats\")\n            .then((response) => {\n                if (response.ok) return response.json()\n                else return Promise.reject(response)\n            })\n            .then((resultData) => {\n                setIsTotalStatsLoading(false);\n                setTotalStats(resultData);\n            })\n            .catch((r) => console.error(r));\n        setTopUserData();\n    }, []);\n\n    return (\n        <Layout>\n            <Seo title=\"Stats\" />\n\n            <div className=\"container\">\n                <h2 className=\"text-center\">Overall Stats</h2>\n\n                <table>\n                    <tbody>\n                        <tr>\n                            <td>Active Users:</td>\n                            <td\n                                className={\n                                    isTotalStatsLoading ? \"loading\" : null\n                                }\n                            >\n                                {totalStats.activeUsers.toLocaleString()} users\n                            </td>\n                        </tr>\n                        <tr>\n                            <td>Titles Submitted:</td>\n                            <td\n                                className={\n                                    isTotalStatsLoading ? \"loading\" : null\n                                }\n                            >\n                                {totalStats.titles.toLocaleString()}{\" \"}\n                                submissions\n                            </td>\n                        </tr>\n                        <tr>\n                            <td>Thumbnails Submitted:</td>\n                            <td\n                                className={\n                                    isTotalStatsLoading ? \"loading\" : null\n                                }\n                            >\n                                {totalStats.thumbnails.toLocaleString()}{\" \"}\n                                submissions\n                            </td>\n                        </tr>\n                    </tbody>\n                </table>\n\n                <div>\n                    <h2 className=\"text-center no-bottom-margin\">\n                        Top Contributors\n                    </h2>\n\n                    <div className=\"text-center text-small\">\n                        Click a column title to change the sort\n                    </div>\n                </div>\n            </div>\n\n            <div className=\"container-fluid stats-table\">\n                <table className=\"highlight-row-on-hover\">\n                    <thead>\n                        <tr>\n                            <th className=\"rank\">Rank</th>\n                            <th>User Name</th>\n                            <th\n                                className=\"pointer sorted\"\n                                onClick={(e) => {\n                                    if (e.target.classList.contains(\"sorted\"))\n                                        return;\n                                    e.target.classList.add(\"sort-loading\");\n                                    sortType = 0;\n                                    setTopUserData(e.target);\n                                }}\n                            >\n                                Titles\n                            </th>\n                            <th\n                                className=\"pointer\"\n                                onClick={(e) => {\n                                    if (e.target.classList.contains(\"sorted\"))\n                                        return;\n                                    e.target.classList.add(\"sort-loading\");\n                                    sortType = 1;\n                                    setTopUserData(e.target);\n                                }}\n                            >\n                                Thumbnails\n                            </th>\n                        </tr>\n                    </thead>\n\n                    <tbody>\n                        {topUsers.length === 0 ? (\n                            <tr className={\"row--even\"}>\n                                <td className=\"topUsersLoading\" colSpan=\"5\">\n                                    Loading...\n                                </td>\n                            </tr>\n                        ) : (\n                            topUsers.map((value, index) => (\n                                <tr\n                                    className={`row--${\n                                        index % 2 ? \"odd\" : \"even\"\n                                    }`}\n                                    key={index}\n                                >\n                                    <td className=\"rank celltype-number\">\n                                        {index + 1}.\n                                    </td>\n                                    <td>{value.userName}</td>\n                                    <td className=\"celltype-number\">\n                                        {value.titles.toLocaleString()}\n                                    </td>\n                                    <td className=\"celltype-number\">\n                                        {value.thumbnails}\n                                    </td>\n                                </tr>\n                            ))\n                        )}\n                    </tbody>\n                </table>\n            </div>\n        </Layout>\n    );\n};\n\nexport default IndexPage;\n"],"names":["hasOwn","hasOwnProperty","classNames","classes","i","arguments","length","arg","argType","push","Array","isArray","inner","apply","toString","Object","prototype","key","call","join","module","exports","default","_ref","children","React","style","backgroundColor","display","justifyContent","borderBottom","className","Link","to","padding","src","alt","height","verticalAlign","href","title","rel","API_BASE","sortType","IndexPage","totalStats","setTotalStats","useState","activeUsers","titles","thumbnails","topUsers","setTopUsers","isTotalStatsLoading","setIsTotalStatsLoading","setTopUserData","clickedElement","url","URL","searchParams","append","fetch","then","response","ok","json","Promise","reject","resultData","_toConsumableArray","document","getElementsByClassName","forEach","el","classList","remove","add","catch","r","console","error","useEffect","Layout","Seo","toLocaleString","onClick","e","target","contains","colSpan","map","value","index","userName"],"sourceRoot":""}